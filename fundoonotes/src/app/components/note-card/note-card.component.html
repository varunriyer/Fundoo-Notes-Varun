<div [ngClass]="viewMode === 'grid' ? 'grid-container' : 'list-container'">
  <div
    class="note-card"
    *ngFor="let note of notes; let i = index"
    [ngStyle]="{ 'background-color': note.color || '#ffffff' }"
    [ngClass]="viewMode"
    (mouseenter)="hoveredIndex = i"
    (mouseleave)="hoveredIndex = null"
  >
    <div class="note-header">
      <h3 class="note-title">{{ note.title }}</h3>
    </div>

    <p class="note-description">{{ note.description }}</p>

    <div class="note-footer" [class.visible]="hoveredIndex === i">
      <app-icon-list
        [context]="isTrashContext ? 'trash' : 'card'"
        [noteID]="note.id"
        [isArchivedView]="isArchiveContext"
        (archived)="onNoteArchived(note.id)"
        (trashed)="onNoteTrashed(note.id)"
        (colorChanged)="onNoteColorChanged(note.id, $event)"
        (deletedForever)="onNoteDeletedForever(note.id)"
        (restored)="onNoteRestored(note.id)"
      ></app-icon-list>
    </div>
  </div>
</div>
