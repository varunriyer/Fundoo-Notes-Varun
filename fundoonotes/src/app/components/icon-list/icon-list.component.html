<div class="icon-list">
  <!-- Show only in 'input' -->
  <mat-icon *ngIf="context === 'input'" fontSet="material-symbols-outlined">
    format_color_text
  </mat-icon>

  <!-- Palette: show in both -->
  <div class="palette-container">
    <mat-icon fontSet="material-symbols-outlined" (click)="toggleColorPalette()"
      >palette</mat-icon
    >
    <div class="color-palette" *ngIf="showColorPalette">
      <div
        class="color-circle"
        *ngFor="let color of lightColors"
        [ngStyle]="{ 'background-color': color }"
        (click)="selectColor(color)"
      ></div>
    </div>
  </div>

  <!-- Common icons -->
  <mat-icon fontSet="material-symbols-outlined">add_alert</mat-icon>
  <mat-icon fontSet="material-symbols-outlined">person_add</mat-icon>
  <mat-icon fontSet="material-symbols-outlined">image</mat-icon>

  <!-- Archive: shown in both, but clickable only in card -->
  <mat-icon
    fontSet="material-symbols-outlined"
    *ngIf="context === 'card'"
    (click)="handleArchive()"
  >
    archive
  </mat-icon>
  <mat-icon fontSet="material-symbols-outlined" *ngIf="context === 'input'">
    archive
  </mat-icon>

  <!-- Menu: card only -->
  <button
    *ngIf="context === 'card'"
    mat-icon-button
    [matMenuTriggerFor]="moreMenu"
    class="menu-button"
  >
    <mat-icon fontSet="material-symbols-outlined">more_vert</mat-icon>
  </button>

  <mat-menu #moreMenu="matMenu" class="custom-menu">
    <button mat-menu-item (click)="handleTrash()">
      <span>Delete note</span>
    </button>
    <button mat-menu-item>
      <span>Add label</span>
    </button>
    <button mat-menu-item>
      <span>Add drawing</span>
    </button>
    <button mat-menu-item>
      <span>Make a copy</span>
    </button>
    <button mat-menu-item>
      <span>Show checkboxes</span>
    </button>
    <button mat-menu-item>
      <span>Copy to Google Docs</span>
    </button>
    <button mat-menu-item>
      <span>Version history</span>
    </button>
  </mat-menu>

  <!-- Undo/Redo only for input -->
  <mat-icon
    *ngIf="context === 'input'"
    fontSet="material-symbols-outlined inactive-icon"
  >
    undo
  </mat-icon>
  <mat-icon
    *ngIf="context === 'input'"
    fontSet="material-symbols-outlined inactive-icon"
  >
    redo
  </mat-icon>
</div>
